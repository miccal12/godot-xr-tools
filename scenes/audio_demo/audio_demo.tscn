[gd_scene load_steps=43 format=3 uid="uid://c2peddtwxsah5"]

[ext_resource type="PackedScene" uid="uid://qbmx03iibuuu" path="res://addons/godot-xr-tools/staging/scene_base.tscn" id="1_jceij"]
[ext_resource type="Script" uid="uid://b3tivadnfc1n8" path="res://scenes/demo_scene_base.gd" id="2_tafmy"]
[ext_resource type="PackedScene" uid="uid://bdwmserhqai5h" path="res://addons/godot-xr-tools/hands/scenes/lowpoly/left_physics_hand_low.tscn" id="3_xxmgq"]
[ext_resource type="PackedScene" uid="uid://bl2nuu3qhlb5k" path="res://addons/godot-xr-tools/functions/movement_direct.tscn" id="4_1uxxi"]
[ext_resource type="PackedScene" uid="uid://bjcxf427un2wp" path="res://addons/godot-xr-tools/player/poke/poke.tscn" id="4_6vss1"]
[ext_resource type="PackedScene" uid="uid://b4ysuy43poobf" path="res://addons/godot-xr-tools/functions/function_pickup.tscn" id="5_02uus"]
[ext_resource type="PackedScene" uid="uid://bft3xyxs31ci3" path="res://addons/godot-xr-tools/functions/function_pose_detector.tscn" id="6_131o8"]
[ext_resource type="PackedScene" uid="uid://btf05hjpw6k05" path="res://addons/godot-xr-tools/hands/scenes/lowpoly/right_physics_hand_low.tscn" id="6_vetbi"]
[ext_resource type="PackedScene" uid="uid://b6bk2pj8vbj28" path="res://addons/godot-xr-tools/functions/movement_turn.tscn" id="7_h0ohr"]
[ext_resource type="PackedScene" uid="uid://bwr0eqi231lf0" path="res://assets/meshes/control_pad/control_pad_location_left.tscn" id="7_xr2gq"]
[ext_resource type="PackedScene" uid="uid://cqhw276realc" path="res://addons/godot-xr-tools/functions/function_pointer.tscn" id="8_bx0ud"]
[ext_resource type="PackedScene" uid="uid://diyu06cw06syv" path="res://addons/godot-xr-tools/player/player_body.tscn" id="9_8cb2y"]
[ext_resource type="PackedScene" uid="uid://0xlsitpu17r1" path="res://addons/godot-xr-tools/functions/movement_footstep.tscn" id="11_4jiwm"]
[ext_resource type="PackedScene" uid="uid://deyk5frilshws" path="res://assets/meshes/control_pad/control_pad_location_right.tscn" id="11_7wxsm"]
[ext_resource type="PackedScene" uid="uid://6xxscqoyit84" path="res://assets/maps/holodeck_map_s.tscn" id="11_yy8rv"]
[ext_resource type="AudioStream" uid="uid://cddgfn5xkknr4" path="res://assets/footsteps/default_footstep.wav" id="12_sotnm"]
[ext_resource type="Script" uid="uid://befci3lcmbq4q" path="res://addons/godot-xr-tools/audio/surface_audio_type.gd" id="13_8k0am"]
[ext_resource type="PackedScene" uid="uid://3a6wjr3a13vd" path="res://assets/meshes/teleport/teleport.tscn" id="13_nq2ma"]
[ext_resource type="Texture2D" uid="uid://ckw6nliyayo6a" path="res://scenes/main_menu/return to main menu.png" id="14_17t48"]
[ext_resource type="PackedScene" uid="uid://ca4wkvbu8jnb4" path="res://scenes/audio_demo/objects/basketball.tscn" id="15_vjd76"]
[ext_resource type="PackedScene" uid="uid://d3mg3nmndxvxv" path="res://scenes/audio_demo/objects/ping_pong_ball.tscn" id="16_3eyoi"]
[ext_resource type="PackedScene" uid="uid://ct3p5sgwvkmva" path="res://assets/meshes/control_pad/control_pad.tscn" id="16_fuqta"]
[ext_resource type="PackedScene" uid="uid://coa22qqgjs0yb" path="res://scenes/audio_demo/objects/ping_pong_racket.tscn" id="17_lx4jc"]
[ext_resource type="PackedScene" uid="uid://0yjbl2vc5ry" path="res://scenes/audio_demo/objects/token.tscn" id="18_4luwj"]
[ext_resource type="AudioStream" uid="uid://dd1dmsoxo58ao" path="res://assets/BryanTeoh/Soundtrack From the Starcourt Mall.mp3" id="19_3odgn"]
[ext_resource type="PackedScene" uid="uid://bwcpq6cuejbiy" path="res://assets/meshes/table/table.tscn" id="20_wktwo"]
[ext_resource type="PackedScene" uid="uid://coqjbivi8c757" path="res://scenes/audio_demo/objects/ping_pong_table.tscn" id="21_brgsn"]
[ext_resource type="PackedScene" uid="uid://diyu4g17s0n8g" path="res://scenes/audio_demo/objects/arcade_hoops.tscn" id="21_v27ri"]
[ext_resource type="PackedScene" uid="uid://c8v28upinm8k8" path="res://scenes/audio_demo/objects/instructions.tscn" id="22_8pmnk"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_itsrc"]
animation = &"Grip"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_qdo1x"]
animation = &"Grip"

[sub_resource type="AnimationNodeBlend2" id="AnimationNodeBlend2_fs0ci"]
filter_enabled = true
filters = ["Armature/Skeleton3D:Little_Distal_L", "Armature/Skeleton3D:Little_Intermediate_L", "Armature/Skeleton3D:Little_Metacarpal_L", "Armature/Skeleton3D:Little_Proximal_L", "Armature/Skeleton3D:Middle_Distal_L", "Armature/Skeleton3D:Middle_Intermediate_L", "Armature/Skeleton3D:Middle_Metacarpal_L", "Armature/Skeleton3D:Middle_Proximal_L", "Armature/Skeleton3D:Ring_Distal_L", "Armature/Skeleton3D:Ring_Intermediate_L", "Armature/Skeleton3D:Ring_Metacarpal_L", "Armature/Skeleton3D:Ring_Proximal_L", "Armature/Skeleton3D:Thumb_Distal_L", "Armature/Skeleton3D:Thumb_Metacarpal_L", "Armature/Skeleton3D:Thumb_Proximal_L", "Armature/Skeleton:Little_Distal_L", "Armature/Skeleton:Little_Intermediate_L", "Armature/Skeleton:Little_Proximal_L", "Armature/Skeleton:Middle_Distal_L", "Armature/Skeleton:Middle_Intermediate_L", "Armature/Skeleton:Middle_Proximal_L", "Armature/Skeleton:Ring_Distal_L", "Armature/Skeleton:Ring_Intermediate_L", "Armature/Skeleton:Ring_Proximal_L", "Armature/Skeleton:Thumb_Distal_L", "Armature/Skeleton:Thumb_Proximal_L"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_j7lgi"]
animation = &"Grip 5"

[sub_resource type="AnimationNodeBlend2" id="AnimationNodeBlend2_5rv4h"]
filter_enabled = true
filters = ["Armature/Skeleton3D:Index_Distal_L", "Armature/Skeleton3D:Index_Intermediate_L", "Armature/Skeleton3D:Index_Metacarpal_L", "Armature/Skeleton3D:Index_Proximal_L", "Armature/Skeleton:Index_Distal_L", "Armature/Skeleton:Index_Intermediate_L", "Armature/Skeleton:Index_Proximal_L"]

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_yfukw"]
graph_offset = Vector2(-536, 11)
nodes/ClosedHand1/node = SubResource("AnimationNodeAnimation_itsrc")
nodes/ClosedHand1/position = Vector2(-600, 300)
nodes/ClosedHand2/node = SubResource("AnimationNodeAnimation_qdo1x")
nodes/ClosedHand2/position = Vector2(-360, 300)
nodes/Grip/node = SubResource("AnimationNodeBlend2_fs0ci")
nodes/Grip/position = Vector2(0, 20)
nodes/OpenHand/node = SubResource("AnimationNodeAnimation_j7lgi")
nodes/OpenHand/position = Vector2(-600, 100)
nodes/Trigger/node = SubResource("AnimationNodeBlend2_5rv4h")
nodes/Trigger/position = Vector2(-360, 20)
node_connections = [&"Grip", 0, &"Trigger", &"Grip", 1, &"ClosedHand2", &"Trigger", 0, &"OpenHand", &"Trigger", 1, &"ClosedHand1", &"output", 0, &"Grip"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_2lrqb"]
animation = &"Grip"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_x4swr"]
animation = &"Grip"

[sub_resource type="AnimationNodeBlend2" id="AnimationNodeBlend2_17af5"]
filter_enabled = true
filters = ["Armature/Skeleton3D:Little_Distal_R", "Armature/Skeleton3D:Little_Intermediate_R", "Armature/Skeleton3D:Little_Metacarpal_R", "Armature/Skeleton3D:Little_Proximal_R", "Armature/Skeleton3D:Middle_Distal_R", "Armature/Skeleton3D:Middle_Intermediate_R", "Armature/Skeleton3D:Middle_Metacarpal_R", "Armature/Skeleton3D:Middle_Proximal_R", "Armature/Skeleton3D:Ring_Distal_R", "Armature/Skeleton3D:Ring_Intermediate_R", "Armature/Skeleton3D:Ring_Metacarpal_R", "Armature/Skeleton3D:Ring_Proximal_R", "Armature/Skeleton3D:Thumb_Distal_R", "Armature/Skeleton3D:Thumb_Metacarpal_R", "Armature/Skeleton3D:Thumb_Proximal_R", "Armature/Skeleton:Little_Distal_R", "Armature/Skeleton:Little_Intermediate_R", "Armature/Skeleton:Little_Proximal_R", "Armature/Skeleton:Middle_Distal_R", "Armature/Skeleton:Middle_Intermediate_R", "Armature/Skeleton:Middle_Proximal_R", "Armature/Skeleton:Ring_Distal_R", "Armature/Skeleton:Ring_Intermediate_R", "Armature/Skeleton:Ring_Proximal_R", "Armature/Skeleton:Thumb_Distal_R", "Armature/Skeleton:Thumb_Proximal_R"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_rxmv0"]
animation = &"Grip 5"

[sub_resource type="AnimationNodeBlend2" id="AnimationNodeBlend2_0ce6k"]
filter_enabled = true
filters = ["Armature/Skeleton3D:Index_Distal_R", "Armature/Skeleton3D:Index_Intermediate_R", "Armature/Skeleton3D:Index_Metacarpal_R", "Armature/Skeleton3D:Index_Proximal_R", "Armature/Skeleton:Index_Distal_R", "Armature/Skeleton:Index_Intermediate_R", "Armature/Skeleton:Index_Proximal_R"]

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_qaj4i"]
graph_offset = Vector2(-552.664, 107.301)
nodes/ClosedHand1/node = SubResource("AnimationNodeAnimation_2lrqb")
nodes/ClosedHand1/position = Vector2(-600, 300)
nodes/ClosedHand2/node = SubResource("AnimationNodeAnimation_x4swr")
nodes/ClosedHand2/position = Vector2(-360, 300)
nodes/Grip/node = SubResource("AnimationNodeBlend2_17af5")
nodes/Grip/position = Vector2(0, 40)
nodes/OpenHand/node = SubResource("AnimationNodeAnimation_rxmv0")
nodes/OpenHand/position = Vector2(-600, 100)
nodes/Trigger/node = SubResource("AnimationNodeBlend2_0ce6k")
nodes/Trigger/position = Vector2(-360, 40)
node_connections = [&"Grip", 0, &"Trigger", &"Grip", 1, &"ClosedHand2", &"Trigger", 0, &"OpenHand", &"Trigger", 1, &"ClosedHand1", &"output", 0, &"Grip"]

[sub_resource type="Resource" id="Resource_ppd3h"]
script = ExtResource("13_8k0am")
name = "Default"
hit_sound = ExtResource("12_sotnm")
walk_sounds = Array[AudioStream]([ExtResource("12_sotnm"), ExtResource("12_sotnm")])
walk_pitch_minimum = 0.8
walk_pitch_maximum = 1.2

[node name="AudioDemo" instance=ExtResource("1_jceij")]
script = ExtResource("2_tafmy")

[node name="LeftPhysicsHand" parent="XROrigin3D/LeftHand" index="0" instance=ExtResource("3_xxmgq")]

[node name="BoneAttachment3D" type="BoneAttachment3D" parent="XROrigin3D/LeftHand/LeftPhysicsHand/Hand_Nails_low_L/Armature/Skeleton3D" index="21"]
transform = Transform3D(0.54083, 0.840813, -0.0231736, -0.0826267, 0.0805243, 0.993322, 0.837064, -0.535303, 0.113023, 0.039902, 0.0402828, -0.150096)
bone_name = "Index_Tip_L"
bone_idx = 9

[node name="Poke" parent="XROrigin3D/LeftHand/LeftPhysicsHand/Hand_Nails_low_L/Armature/Skeleton3D/BoneAttachment3D" index="0" instance=ExtResource("4_6vss1")]
layer = 0
mask = 4194304
push_bodies = false

[node name="AnimationTree" parent="XROrigin3D/LeftHand/LeftPhysicsHand" index="1"]
root_node = NodePath("../Hand_Nails_low_L")
tree_root = SubResource("AnimationNodeBlendTree_yfukw")

[node name="MovementDirect" parent="XROrigin3D/LeftHand" index="1" instance=ExtResource("4_1uxxi")]
strafe = true

[node name="FunctionPickup" parent="XROrigin3D/LeftHand" index="2" instance=ExtResource("5_02uus")]
grab_distance = 0.1
ranged_angle = 10.0

[node name="FunctionPoseDetector" parent="XROrigin3D/LeftHand" index="3" instance=ExtResource("6_131o8")]

[node name="ControlPadLocationLeft" parent="XROrigin3D/LeftHand" index="4" instance=ExtResource("7_xr2gq")]

[node name="RightPhysicsHand" parent="XROrigin3D/RightHand" index="0" instance=ExtResource("6_vetbi")]

[node name="BoneAttachment3D" type="BoneAttachment3D" parent="XROrigin3D/RightHand/RightPhysicsHand/Hand_Nails_low_R/Armature/Skeleton3D" index="21"]
transform = Transform3D(0.540829, -0.840813, 0.0231736, 0.0826268, 0.0805242, 0.993322, -0.837064, -0.535303, 0.113024, -0.039902, 0.0402828, -0.150096)
bone_name = "Index_Tip_R"
bone_idx = 9

[node name="Poke" parent="XROrigin3D/RightHand/RightPhysicsHand/Hand_Nails_low_R/Armature/Skeleton3D/BoneAttachment3D" index="0" instance=ExtResource("4_6vss1")]
layer = 0
mask = 4194304
push_bodies = false

[node name="AnimationTree" parent="XROrigin3D/RightHand/RightPhysicsHand" index="1"]
root_node = NodePath("../Hand_Nails_low_R")
tree_root = SubResource("AnimationNodeBlendTree_qaj4i")

[node name="MovementDirect" parent="XROrigin3D/RightHand" index="1" instance=ExtResource("4_1uxxi")]

[node name="MovementTurn" parent="XROrigin3D/RightHand" index="2" instance=ExtResource("7_h0ohr")]

[node name="FunctionPickup" parent="XROrigin3D/RightHand" index="3" instance=ExtResource("5_02uus")]
grab_distance = 0.1
ranged_angle = 10.0

[node name="FunctionPointer" parent="XROrigin3D/RightHand" index="4" instance=ExtResource("8_bx0ud")]
show_laser = 2
laser_length = 1

[node name="FunctionPoseDetector" parent="XROrigin3D/RightHand" index="5" instance=ExtResource("6_131o8")]

[node name="ControlPadLocationRight" parent="XROrigin3D/RightHand" index="6" instance=ExtResource("11_7wxsm")]

[node name="PlayerBody" parent="XROrigin3D" index="3" instance=ExtResource("9_8cb2y")]

[node name="MovementFootstep" parent="XROrigin3D" index="4" instance=ExtResource("11_4jiwm")]
default_surface_audio_type = SubResource("Resource_ppd3h")

[node name="ControlPad" parent="XROrigin3D" index="5" instance=ExtResource("16_fuqta")]

[node name="HolodeckMap" parent="." index="1" instance=ExtResource("11_yy8rv")]

[node name="Teleport" parent="." index="2" instance=ExtResource("13_nq2ma")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 4)
title = ExtResource("14_17t48")

[node name="Instructions" parent="." index="3" instance=ExtResource("22_8pmnk")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, -6.821)

[node name="AudioToys" type="Node3D" parent="." index="4"]

[node name="OnArcade" type="Node3D" parent="AudioToys" index="0"]

[node name="Token" parent="AudioToys/OnArcade" index="0" instance=ExtResource("18_4luwj")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.51667, 0.804258, -4.52431)

[node name="Token2" parent="AudioToys/OnArcade" index="1" instance=ExtResource("18_4luwj")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.56099, 0.80477, -4.58466)

[node name="Token3" parent="AudioToys/OnArcade" index="2" instance=ExtResource("18_4luwj")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.49533, 0.8027, -4.5853)

[node name="Basketball" parent="AudioToys/OnArcade" index="3" instance=ExtResource("15_vjd76")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4, 0.681, -4.89)

[node name="Basketball2" parent="AudioToys/OnArcade" index="4" instance=ExtResource("15_vjd76")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.395, 0.681, -4.877)

[node name="Basketball3" parent="AudioToys/OnArcade" index="5" instance=ExtResource("15_vjd76")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.641, 0.681, -4.884)

[node name="OnTable" type="Node3D" parent="AudioToys" index="1"]

[node name="Token" parent="AudioToys/OnTable" index="0" instance=ExtResource("18_4luwj")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.57792, 0.899712, -2.23814)

[node name="Token2" parent="AudioToys/OnTable" index="1" instance=ExtResource("18_4luwj")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.62224, 0.888851, -2.26039)

[node name="Token3" parent="AudioToys/OnTable" index="2" instance=ExtResource("18_4luwj")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.53759, 0.886781, -2.23687)

[node name="Token4" parent="AudioToys/OnTable" index="3" instance=ExtResource("18_4luwj")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.59301, 0.881359, -2.20364)

[node name="PingPongRacket" parent="AudioToys/OnTable" index="4" instance=ExtResource("17_lx4jc")]
transform = Transform3D(1.31134e-07, 1, -3.82137e-15, -4.37114e-08, 1.91069e-15, -1, -1, 1.31134e-07, 4.37114e-08, 0.369839, 0.863113, -2.1133)

[node name="PingPongBall" parent="AudioToys/OnTable" index="5" instance=ExtResource("16_3eyoi")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.624029, 0.843041, -2.09441)

[node name="PingPongBall2" parent="AudioToys/OnTable" index="6" instance=ExtResource("16_3eyoi")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.747767, 0.843041, -2.09441)

[node name="PingPongBall3" parent="AudioToys/OnTable" index="7" instance=ExtResource("16_3eyoi")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.863703, 0.843041, -2.09441)

[node name="Basketball4" parent="AudioToys/OnTable" index="8" instance=ExtResource("15_vjd76")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0543816, 0.917915, -2.11224)

[node name="OnPingPongTable" type="Node3D" parent="AudioToys" index="2"]

[node name="PingPongRacket2" parent="AudioToys/OnPingPongTable" index="0" instance=ExtResource("17_lx4jc")]
transform = Transform3D(-0.866026, -0.5, 2.2954e-08, 4.37114e-08, -2.98023e-08, 1, -0.5, 0.866026, 4.76653e-08, 4.01502, 1.04976, -5.63702)

[node name="PingPongBall" parent="AudioToys/OnPingPongTable" index="1" instance=ExtResource("16_3eyoi")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.86931, 1.05169, -5.53634)

[node name="PingPongBall2" parent="AudioToys/OnPingPongTable" index="2" instance=ExtResource("16_3eyoi")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.99304, 1.05169, -5.53634)

[node name="PingPongBall3" parent="AudioToys/OnPingPongTable" index="3" instance=ExtResource("16_3eyoi")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.10898, 1.05169, -5.53634)

[node name="ArcadeHoops" parent="." index="5" instance=ExtResource("21_v27ri")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.018, 0, -4.4)

[node name="Table" parent="." index="6" instance=ExtResource("20_wktwo")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1, 0, -3)

[node name="PingPongTable" parent="." index="7" instance=ExtResource("21_brgsn")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.61845, 0, -6.9979)

[node name="AudioStreamPlayer3D" type="AudioStreamPlayer3D" parent="." index="8"]
stream = ExtResource("19_3odgn")
max_db = -20.0
autoplay = true

[editable path="XROrigin3D/LeftHand/LeftPhysicsHand"]
[editable path="XROrigin3D/LeftHand/LeftPhysicsHand/Hand_Nails_low_L"]
[editable path="XROrigin3D/RightHand/RightPhysicsHand"]
[editable path="XROrigin3D/RightHand/RightPhysicsHand/Hand_Nails_low_R"]
